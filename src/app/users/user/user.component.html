<div class="user-container">

  <div class="table-row" *ngIf="!unfolded" (click)="unfold()">
    <td>{{model.firstName}}</td>
    <td>{{model.lastName}}</td>
    <td>{{birthDateString}}</td>
    <td>
      <button mat-icon-button
              (click)="delete()">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </div>

  <div *ngIf="unfolded">

    <div class="buttons-container">
      <button mat-icon-button
              (click)="fold()">
        <mat-icon>expand_less</mat-icon>
      </button>
      <button mat-icon-button
              (click)="delete()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>

    <form class="user-form" #myForm="ngForm" novalidate>

      <div class="row">
        <div class="form-group user-input col">
          <input class="form-control" type="text" name="firstname" pattern="[^0-9]*"
                 [minlength]="2" [maxlength]="30" placeholder="First Name"
                 [(ngModel)]="formModel.firstName" required />
        </div>

        <div class="form-group user-input col">
          <input class="form-control" type="text" name="lastname" pattern="[^0-9]*"
                 [minlength]="3" [maxlength]="30" placeholder="Last Name"
                 [(ngModel)]="formModel.lastName" required/>
        </div>

        <div class="form-group user-input col">
          <input class="form-control" type="datetime-local" name="birthdate" min="1900-01-01" max="2020-01-01" placeholder="Birth Date"
                 [(ngModel)]="formModel.birthDate" required/>
        </div>
      </div>

      <div class="row">
        <div class="form-group user-input col">
          <input class="form-control" type="email" name="email"
                 pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [minlength]="5" [maxlength]="30" placeholder="Email"
                 [(ngModel)]="formModel.email" required />
        </div>

        <div class="form-group user-input col">
          <input class="form-control" type="tel" name="phone" pattern="[^a-z]*"
                 [minlength]="7" [maxlength]="15" placeholder="Phone Number"
                 [(ngModel)]="formModel.phoneNumber" required />
        </div>

      </div>

      <div class="form-group user-input">
        <label>Additional information</label>
        <input class="form-control" type="text" name="info" [maxlength]="200" placeholder="Additional Info"
               [(ngModel)]="formModel.info" required/>
      </div>

      <div class="form-group user-input form-button-container">
        <button [disabled]="myForm.invalid"
                class="btn btn-primary" (click)="update()">Apply Changes</button>
      </div>
    </form>
  </div>
</div>

